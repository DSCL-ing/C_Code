## 符号

### 注释

C语言风格的注释: `/* 这是注释 */`  
C++风格的注释: `//这是注释`

#### 基本注释注意事项

```
int main()
{
int /* */ i;                    //1.正确
char *s = "abcdefgh //hijklmn"; //2.正确：//是字符串的一部分
//Is it a\
valid comment?                  //3.正确  注释可以通过续行符续行
in/* */t j;                     //4.报错
system("pause");
return 0;
}
```

gcc4.8.5的语法检查:  
![1正确的注释.png](img2/1正确的注释.png)  
为什么4是错的?  看预编译后的结果:  
执行预编译命令:`gcc -E test.c -o test.i`  

![1gcc编译.png](./img2/1gcc编译.png)

(发现预处理阶段gcc并没有报错,说明问题是出在编译后的)  

![1预编译后的注释](img2/1预编译后的注释.png)  
可以发现 第9行 int中间多了空格,说明注释在预编译可能会被转化成空格.

而第5行的int i中间只有一个空格,说明注释是直接被删除或合并成一个空格.

**结论:注释在预编译后会替换成空格,具体替换方式由编译器决定**



#### C风格的注释无法嵌套

预编译:

![967dc89a-3f0e-4d19-8460-c2f3c1a1aa90](file:///C:/Users/chj/Desktop/Repository/C_Code/test/test/img2/967dc89a-3f0e-4d19-8460-c2f3c1a1aa90.png)



可以发现预编译后上面两个\\*没有了,下面还有一个\*\\.

原因: C语言/\*只会匹配最近一个\*/,把他们中间的全部删除掉.因此留下一个\*.



#### 一些特殊的注释

- 宏中间的注释

![一些特殊的注释](file:///C:\Users\chj\Desktop\Repository\C_Code\test\test/img2/1一些特殊的注释.png)

- 除号和\*号同时使用

![bd9dd9d0-ed43-476d-ba9e-4237c15775e7](file:///C:/Users/chj/Desktop/Repository/C_Code/test/test/img2/bd9dd9d0-ed43-476d-ba9e-4237c15775e7.png)

解决方法:

1.在/和\*后加上一个空格  `int b = 20/ *p`

2.用圆括号把(\*)括起来`int b = 20/(*p)` ,推荐这种方式,更为直观

#### 注释的规则建议

1. 注释应当准确、易懂，防止有二义性。错误的注释不但无益反而有害。

2. 边写代码边注释，修改代码的同时修改相应的注释，以保证注释与代码的一致性。不再有用的注释要即使删除。

3. 注释是对代码的的“提示”，而不是文档。程序中的注释应当简单明了，注释太多了会让人眼花缭乱。

4. 对于全局数据（全局变量、常量定义等）必须要加注释。

5. 注释的位置应与被描述的代码相邻，可以与语句在同一行，也可以在上行，但不可以放在下方。同一结构中不同域的注释要对齐。

6. 当代码比较长，特别是有多重嵌套时，应当在一些段落的结束处加注释，便于阅读。

7. 注释代码段时应注重“为何做（why) ",而不是怎么做”（how）“
   
   说明怎么做的注释一般停留在编程语言的层次，而不是为了说明问题。尽力阐述“怎么做”的注释一般没有告诉我们操作的意图，而指明“怎么做”的注释通常是冗余的。

8. 数值的单位一定要注释。如时、分、秒等单位。

9. 对变量的范围给出注释，尤其是参数。

10. 对一系列的数字编号给出注释，尤其在编写底层驱动程序的时候（比如引脚编号）。

11. 在复杂的函数中，在分支语句、循环语句结束之后需要适当的注释，方便区分各分支或循环体。（很多时候代码写长后，一个屏幕内看不到下面的代码，不知道哪个才是相应代码块匹配的花括号）
